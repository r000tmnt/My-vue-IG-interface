{"version":3,"sources":["webpack:///./src/components/displayStories.vue","webpack:///./src/components/displayStories.vue?a0b2","webpack:///./src/components/displayStories.vue?1e99"],"names":["id","class","sts_length","pauseClick","goBack","media_stories","style","setWidth","playstate","src","basic","profile_pic","alt","userName","storyIndex","timestamp","media_url","name","data","windowHeight","window","innerHeight","timer","pause","computed","this","$store","state","methods","checkWindow","checkStories","countDown","place","commit","setInterval","clearInterval","mounted","render","__scopeId"],"mappings":"4NACKA,GAAG,W,EACN,eAA4B,UAAxB,uBAAmB,G,SAIlBC,MAAM,a,GACJA,MAAM,Q,GAEFD,GAAG,YAAYC,MAAM,Y,GAGrBA,MAAM,wB,GACJA,MAAM,W,GAEJA,MAAM,W,uDAdW,IAAV,EAAAC,Y,iBAAxB,eAEM,MAFN,EAEM,CADJ,M,iBAGF,eAoBM,O,MApBDF,GAAG,aAAqB,QAAK,8BAAE,EAAAG,YAAA,EAAAA,WAAA,qBAAa,WAAQ,8BAAE,EAAAC,QAAA,EAAAA,OAAA,sB,CAC5B,EAAAC,e,iBAA7B,eAiBM,MAjBN,EAiBM,CAhBJ,eAeQ,MAfR,EAeQ,CAdN,eAakG,OAb7FL,GAAG,MAAOM,MAAK,OAAY,EAAAC,W,CAC9B,eAEM,MAFN,EAEM,CADJ,eAAgE,OAA3DN,MAAM,MAAOK,MAAK,oBAAuB,EAAAE,Y,UAEhD,eAQM,MARN,EAQM,CAPJ,eAMM,MANN,EAMM,CALJ,eAA4F,OAAtFC,IAAK,EAAAC,MAAMC,YAAaC,IAAI,YAAYN,MAAA,8C,gBAC9C,eAGM,MAHN,EAGM,C,8BAFF,EAAAI,MAAMG,UAAU,IAClB,kBAAsD,4BAA7C,EAAAR,cAAc,EAAAS,YAAYC,WAAS,SAIlD,eAA0F,OAApFN,IAAK,EAAAJ,cAAc,EAAAS,YAAYE,UAAWJ,IAAI,YAAYN,MAAA,wB,wDAUzD,GACbW,KAAM,iBACNC,KAFa,WAGX,MAAM,CACJC,aAAcC,OAAOC,YACrBd,SAAU,GACVe,MAAO,KACPC,OAAO,EACPf,UAAW,UACXM,WAAY,IAGhBU,SAAS,CACPnB,cADO,WAEL,OAAOoB,KAAKC,OAAOC,MAAMtB,eAE3BH,WAJO,WAKL,OAAOuB,KAAKC,OAAOC,MAAMzB,YAE3BQ,MAPO,WAQL,OAAOe,KAAKC,OAAOC,MAAMjB,QAG7BkB,QAAS,CACPC,YADO,WAEoB,MAAtBJ,KAAKN,aACNM,KAAKlB,SAAW,QAEhBkB,KAAKlB,SAAW,SAIpBuB,aATO,WAULL,KAAKX,aACLW,KAAKM,aAGP3B,OAdO,WAeL,IAAM4B,EAAQ,OACdP,KAAKC,OAAOO,OAAO,cAAeD,IAGpCD,UAnBO,WAmBI,YACS,IAAfN,KAAKF,MACNE,KAAKH,MAAQF,OAAOc,aAAY,WACjB,EAAKpB,WAAa,IAAM,EAAKZ,YAC9B,EAAKE,SACL,EAAKD,cAEL,EAAK2B,iBAEN,MAEbV,OAAOe,cAAcV,KAAKH,QAK9BnB,WAnCO,YAoCa,IAAfsB,KAAKF,OACNE,KAAKF,OAAQ,EACbE,KAAKjB,UAAY,SACjBiB,KAAKM,cACiB,IAAfN,KAAKF,QACZE,KAAKF,OAAQ,EACbE,KAAKjB,UAAY,UACjBiB,KAAKM,eAIXK,QAtEa,WAuEXX,KAAKI,cACFJ,KAAKvB,WAAa,GACnBuB,KAAKM,c,UCnGX,EAAOM,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,2DCRf","file":"js/chunk-2fab37ed.9a8bde08.js","sourcesContent":["<template style=\"position: relative\">\r\n<div id=\"noStory\" v-if=\"sts_length === 0\">\r\n  <h1>抱歉。 目前沒有24小時內的限時動態。</h1>\r\n</div>\r\n\r\n<div id=\"hasStories\" v-else @click=\"pauseClick\" @dblclick=\"goBack\">\r\n  <div class=\"showStory\" v-if=\"media_stories\">\r\n    <div class=\"main\">\r\n      <div id=\"sts\" :style=\"{'width': setWidth}\">\r\n        <div id=\"timeCount\" class=\"relative\">\r\n          <div class=\"run\" :style=\"{animationPlayState: playstate}\"></div>\r\n        </div>\r\n        <div class=\"profile-sts relative\">\r\n          <div class=\"profile\">\r\n            <img :src=\"basic.profile_pic\" alt=\"Not found\" style=\"border-radius: 50%; margin-right: 5px\">\r\n            <div class=\"subInfo\">\r\n              {{basic.userName}}\r\n              <small>{{media_stories[storyIndex].timestamp}}</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <img :src=\"media_stories[storyIndex].media_url\" alt=\"Not found\" style=\"margin-top: -78px\"></div>        \r\n      </div>\r\n  </div>\r\n  \r\n</div>\r\n  \r\n</template>\r\n\r\n<script>\r\n//Object.keys(objectname).length  Check if the object is empty\r\nexport default {\r\n  name: 'displayStories',\r\n  data(){\r\n    return{\r\n      windowHeight: window.innerHeight,\r\n      setWidth: '',\r\n      timer: null,\r\n      pause: false,\r\n      playstate: 'running', \r\n      storyIndex: 0\r\n    }\r\n  },\r\n  computed:{\r\n    media_stories(){\r\n      return this.$store.state.media_stories\r\n    },\r\n    sts_length(){\r\n      return this.$store.state.sts_length\r\n    },\r\n    basic(){\r\n      return this.$store.state.basic\r\n    },\r\n  },\r\n  methods: {\r\n    checkWindow(){\r\n      if(this.windowHeight === 760){\r\n        this.setWidth = 410 + 'px';\r\n      }else{\r\n        this.setWidth = 514 + 'px';\r\n      }\r\n    },\r\n\r\n    checkStories(){\r\n      this.storyIndex++;\r\n      this.countDown()//start counting again\r\n    },\r\n\r\n    goBack(){\r\n      const place = 'post'\r\n      this.$store.commit('viewSection', place);  \r\n    },\r\n\r\n    countDown(){\r\n      if(this.pause === false){\r\n        this.timer = window.setInterval(() => {\r\n                    if(this.storyIndex + 1 === this.sts_length){//If there are no more to show\r\n                      this.goBack();\r\n                      this.pauseClick();\r\n                    }else{\r\n                      this.checkStories();\r\n                    }\r\n                  }, 15000);                 \r\n      }else{\r\n        window.clearInterval(this.timer);\r\n      }\r\n\r\n    },\r\n\r\n    pauseClick(){\r\n      if(this.pause === false){ //pause timer if it is counting\r\n        this.pause = true;\r\n        this.playstate = 'paused';\r\n        this.countDown();\r\n      }else if(this.pause === true){ //resume counting if it is paused\r\n        this.pause = false;\r\n        this.playstate = 'running';\r\n        this.countDown();\r\n      }\r\n    }\r\n  },\r\n  mounted(){\r\n    this.checkWindow();\r\n    if(this.sts_length > 0){//Start counting when there are stories to show\r\n      this.countDown();\r\n    }     \r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n@keyframes countDown{\r\n  from{ transform: translateX(0%); }\r\n  to{ transform: translateX(100%); }\r\n}\r\n\r\n.relative{\r\n  position: relative;\r\n}\r\n\r\n#noStory > h1{\r\n  display: inline-block;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  position: absolute;\r\n  color:white;\r\n}\r\n\r\n#hasStories{\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  position: absolute;\r\n  background-color: rgba(34, 51, 34, 0.9);\r\n  width: 100%;\r\n  height: 100vh;\r\n  cursor: pointer;\r\n}\r\n\r\ncenter{\r\n  padding: 0.2vw;\r\n}\r\n\r\n.showStory{\r\n  width: 60vw;\r\n  /* border: 1px solid red; */\r\n  margin: 0 auto;\r\n  margin-top: 4vh;\r\n}\r\n\r\n.back{\r\n  float: right;\r\n  margin-top: 1vh;\r\n  position: absolute;\r\n  z-index: 2;\r\n}\r\n\r\n#timeCount{\r\n  width: 100%;\r\n  background: #232;\r\n  border-radius: 15px;\r\n  overflow: hidden;\r\n  margin-top: 0.5vh;\r\n  opacity: 0.7;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.run{\r\n  border: 1px solid white ;\r\n  background-color: white;\r\n  animation: countDown 15s infinite alternate;\r\n}\r\n\r\n.main{\r\n  margin: 0 auto;\r\n}\r\n\r\n#sts{\r\n  margin: 0 auto;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n#sts > img{\r\n  max-width: 100%;\r\n}\r\n\r\n.profile-sts{\r\n  opacity: 0;\r\n  color: white;\r\n  z-index: 2;\r\n}\r\n\r\n.profile-sts:hover{\r\n  opacity: 1;\r\n  transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.profile{\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  padding: 1%;  \r\n}\r\n\r\n.profile > img{\r\n  max-width: 100%;\r\n}\r\n\r\nsmall{\r\n  opacity: 0.7;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n  .showStory{\r\n    width: 90vw;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 592px) {\r\n  .showStory{\r\n    width: 100vw;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 514px) {\r\n  .main{\r\n    width: auto;\r\n  }\r\n  \r\n  #sts{\r\n    width: unset!important;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 420px) {\r\n  .main{\r\n    width: unset;\r\n  }\r\n}\r\n</style>","import { render } from \"./displayStories.vue?vue&type=template&id=6f30c1bc&scoped=true&style=position%3A%20relative\"\nimport script from \"./displayStories.vue?vue&type=script&lang=js\"\nexport * from \"./displayStories.vue?vue&type=script&lang=js\"\n\nimport \"./displayStories.vue?vue&type=style&index=0&id=6f30c1bc&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6f30c1bc\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./displayStories.vue?vue&type=style&index=0&id=6f30c1bc&scoped=true&lang=css\""],"sourceRoot":""}