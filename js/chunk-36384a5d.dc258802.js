(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36384a5d"],{"8aca":function(e,t,i){"use strict";i("be51")},b265:function(e,t,i){"use strict";i.r(t);var c=i("7a23"),n=i("ebab"),o=i.n(n),s=Object(c["u"])("data-v-93618efe");Object(c["l"])("data-v-93618efe");var a={id:"forCenter"},l=Object(c["g"])("div",{style:{clear:"both"}},null,-1),d={id:"view"},r={id:"info"},m={class:"caption text-align"},u={class:"subInfo flex"},h={class:"likes"},b=Object(c["f"])("    "),g={class:"comments_count"},j={class:"comments"},f={class:"input"},O={class:"push"},p={key:0,id:"noComment",class:"text-align"},w={key:1,class:"comment_list"},k={class:"comment"},C={id:"seeMore"};Object(c["k"])();var v=s((function(e,t,i,n,v,M){return Object(c["j"])(),Object(c["d"])("div",{class:"modal",style:{"margin-top":M.scrollY}},[Object(c["g"])("div",a,[Object(c["g"])("button",{class:"close",onClick:t[1]||(t[1]=function(e){return M.closeModal()})},"X"),l,M.clickedMedia?(Object(c["j"])(),Object(c["d"])("main",{key:0,class:"forFlex flex",style:{height:v.windowHeight-125+"px"}},[Object(c["g"])("div",d,[Object(c["g"])("img",{id:"pic",onLoad:t[2]||(t[2]=function(e){return M.checkToolarge()}),ref:"ifToolarge",style:{width:v.ifToolarge.setValue},src:M.clickedMedia.media_url,alt:"not found"},null,44,["src"])]),Object(c["g"])("div",r,[Object(c["g"])("div",m,[Object(c["f"])(Object(c["p"])(M.clickedMedia.caption)+" ",1),Object(c["g"])("small",null,Object(c["p"])(M.clickedMedia.timestamp),1)]),Object(c["g"])("div",u,[Object(c["g"])("div",h,Object(c["p"])(M.clickedMedia.like_count)+"個讚",1),b,Object(c["g"])("div",g,Object(c["p"])(M.clickedMedia.comments_count)+"個留言",1)]),Object(c["g"])("div",j,[Object(c["g"])("div",f,[Object(c["s"])(Object(c["g"])("textarea",{id:"pushNew",placeholder:"留言","onUpdate:modelValue":t[3]||(t[3]=function(e){return v.newComment=e}),onKeyup:t[4]||(t[4]=Object(c["t"])((function(e){return M.textAreaResize()}),["enter"]))},null,544),[[c["q"],v.newComment]]),Object(c["g"])("button",O,[Object(c["g"])("img",{src:o.a,alt:"Not found",onClick:t[5]||(t[5]=function(e){return M.pushComment()})})])]),0===M.theMediaComment.length?(Object(c["j"])(),Object(c["d"])("div",p,Object(c["p"])(v.noComment.message),1)):(Object(c["j"])(),Object(c["d"])("div",w,[Object(c["g"])("section",null,[Object(c["g"])(c["b"],{name:"comments"},{default:s((function(){return[(Object(c["j"])(!0),Object(c["d"])(c["a"],null,Object(c["n"])(M.theMediaComment,(function(e,t){return Object(c["j"])(),Object(c["d"])("div",{class:"vistor",key:e.id},[Object(c["g"])("div",k,[Object(c["g"])("button",{class:"del",onClick:function(i){return M.deleteComment(e,t)}},"X",8,["onClick"]),Object(c["g"])("h4",null,Object(c["p"])(e.username)+": "+Object(c["p"])(e.text),1),Object(c["g"])("small",null,Object(c["p"])(e.timestamp),1)])])})),128))]})),_:1})])]))])]),Object(c["g"])("div",C,[Object(c["g"])("a",{class:"profile flex",onClick:t[6]||(t[6]=function(e){return M.closeModal()})},[Object(c["g"])("img",{src:M.basic.profile_picture_url,alt:""},null,8,["src"]),Object(c["g"])("span",null,Object(c["p"])(M.basic.username),1)]),Object(c["g"])("ul",{class:"otherPics",style:{height:v.windowHeight-195+"px"}},[(Object(c["j"])(!0),Object(c["d"])(c["a"],null,Object(c["n"])(M.media_posts,(function(e,t){return Object(c["j"])(),Object(c["d"])("li",{class:"pic",key:e.id},[Object(c["g"])("img",{src:e.media_url,alt:"Not found",onClick:function(e){return M.clickedMedia_change(t)}},null,8,["src","onClick"])])})),128))],4)])],4)):Object(c["e"])("",!0)])],4)})),M={name:"viewPics",data:function(){return{noComment:{message:"尚無留言，搶個頭香吧。"},windowHeight:window.innerHeight,windowWidth:window.innerWidth,ifToolarge:{height:null,setValue:""},imgLoad:!1,newComment:"",autoResize:20,handler:{isViewing:!1,addClass:!0}}},computed:{clickedMedia:function(){return this.$store.getters.getClickedMedia},theMediaComment:function(){return this.$store.state.theMediaComment},media_posts:function(){return this.$store.state.media_posts},scrollY:function(){return this.$store.state.scrollY},basic:function(){return this.$store.state.basic}},methods:{checkToolarge:function(){this.imgLoad=!0,this.ifToolarge.height=this.$refs.ifToolarge.offsetHeight,this.ifToolarge.height>this.windowHeight&&760===this.windowHeight?(this.ifToolarge.setValue="606px",this.checkWindow()):this.ifToolarge.height>this.windowHeight?(this.ifToolarge.setValue="720px",this.checkWindow()):this.ifToolarge.setValue=""},checkWindow:function(){this.windowWidth=window.innerWidth,this.windowWidth<950&&(this.ifToolarge.setValue="100vw")},textAreaResize:function(){this.autoResize=this.autoResize+20,this.autoResize>60&&(this.autoResize=60)},pushComment:function(){var e={id:this.clickedMedia.id,message:this.newComment};""!==this.newComment&&(this.$store.dispatch("pushComment",e),this.newComment="",this.clickedMedia.comments_count++,this.noComment.message="請稍後。")},deleteComment:function(e,t){var i=confirm("您希望刪除 "+e.text+" 這個留言嗎?"),c={comment:e,index:t};i&&(this.$store.dispatch("deleteComment",c),this.clickedMedia.comments_count--,this.noComment.message="尚無留言，搶個頭香吧。")},closeModal:function(){this.$store.commit("clearComment"),this.$emit("close",this.handler)},clickedMedia_change:function(e){this.ifToolarge.setValue="",this.$store.commit("clearComment"),this.$emit("changePic",e)}},updated:function(){this.theMediaComment.length>0&&this.$store.commit("convertTime",this.theMediaComment)}};i("8aca");M.render=v,M.__scopeId="data-v-93618efe";t["default"]=M},be51:function(e,t,i){},ebab:function(e,t,i){e.exports=i.p+"img/sent.704346ae.png"}}]);
//# sourceMappingURL=chunk-36384a5d.dc258802.js.map